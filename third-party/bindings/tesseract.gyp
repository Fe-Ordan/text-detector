{
    "includes": [ "./common.gyp" ],
    "targets": [
        {
            "target_name": "tesseract",
            "type": "static_library",
            "defines": [
                "LOCALEDIR",
                "USE_STD_NAMESPACE",
                "GRAPHICS_DISABLED"
            ],
            "dependencies": [
                "./leptonica.gyp:leptonica"
            ],
            "include_dirs": [
                "../leptonica/src",
                "../tesseract/api",
                "../tesseract/ccmain",
                "../tesseract/ccstruct",
                "../tesseract/ccutil",
                "../tesseract/classify",
                "../tesseract/cube",
                "../tesseract/cutil",
                "../tesseract/dict",
                "../tesseract/neural_networks/runtime",
                "../tesseract/opencl",
                "../tesseract/textord",
                "../tesseract/viewer",
                "../tesseract/wordrec"
            ],
            "sources": [
                "../tesseract/api/baseapi.cpp",
                "../tesseract/api/capi.cpp",
                "../tesseract/api/pdfrenderer.cpp",
                "../tesseract/api/renderer.cpp",
                "../tesseract/api/tesseractmain.cpp",
                "../tesseract/ccmain/adaptions.cpp",
                "../tesseract/ccmain/applybox.cpp",
                "../tesseract/ccmain/control.cpp",
                "../tesseract/ccmain/cube_control.cpp",
                "../tesseract/ccmain/cube_reco_context.cpp",
                "../tesseract/ccmain/cubeclassifier.cpp",
                "../tesseract/ccmain/docqual.cpp",
                "../tesseract/ccmain/equationdetect.cpp",
                "../tesseract/ccmain/fixspace.cpp",
                "../tesseract/ccmain/fixxht.cpp",
                "../tesseract/ccmain/ltrresultiterator.cpp",
                "../tesseract/ccmain/osdetect.cpp",
                "../tesseract/ccmain/output.cpp",
                "../tesseract/ccmain/pageiterator.cpp",
                "../tesseract/ccmain/pagesegmain.cpp",
                "../tesseract/ccmain/pagewalk.cpp",
                "../tesseract/ccmain/par_control.cpp",
                "../tesseract/ccmain/paragraphs.cpp",
                "../tesseract/ccmain/paramsd.cpp",
                "../tesseract/ccmain/pgedit.cpp",
                "../tesseract/ccmain/recogtraining.cpp",
                "../tesseract/ccmain/reject.cpp",
                "../tesseract/ccmain/resultiterator.cpp",
                "../tesseract/ccmain/superscript.cpp",
                "../tesseract/ccmain/tessbox.cpp",
                "../tesseract/ccmain/tessedit.cpp",
                "../tesseract/ccmain/tesseract_cube_combiner.cpp",
                "../tesseract/ccmain/tesseractclass.cpp",
                "../tesseract/ccmain/tessvars.cpp",
                "../tesseract/ccmain/tfacepp.cpp",
                "../tesseract/ccmain/thresholder.cpp",
                "../tesseract/ccmain/werdit.cpp",
                "../tesseract/ccstruct/blamer.cpp",
                "../tesseract/ccstruct/blobbox.cpp",
                "../tesseract/ccstruct/blobs.cpp",
                "../tesseract/ccstruct/blread.cpp",
                "../tesseract/ccstruct/boxread.cpp",
                "../tesseract/ccstruct/boxword.cpp",
                "../tesseract/ccstruct/ccstruct.cpp",
                "../tesseract/ccstruct/coutln.cpp",
                "../tesseract/ccstruct/detlinefit.cpp",
                "../tesseract/ccstruct/dppoint.cpp",
                "../tesseract/ccstruct/fontinfo.cpp",
                "../tesseract/ccstruct/genblob.cpp",
                "../tesseract/ccstruct/imagedata.cpp",
                "../tesseract/ccstruct/linlsq.cpp",
                "../tesseract/ccstruct/matrix.cpp",
                "../tesseract/ccstruct/mod128.cpp",
                "../tesseract/ccstruct/normalis.cpp",
                "../tesseract/ccstruct/ocrblock.cpp",
                "../tesseract/ccstruct/ocrpara.cpp",
                "../tesseract/ccstruct/ocrrow.cpp",
                "../tesseract/ccstruct/otsuthr.cpp",
                "../tesseract/ccstruct/pageres.cpp",
                "../tesseract/ccstruct/params_training_featdef.cpp",
                "../tesseract/ccstruct/pdblock.cpp",
                "../tesseract/ccstruct/points.cpp",
                "../tesseract/ccstruct/polyaprx.cpp",
                "../tesseract/ccstruct/polyblk.cpp",
                "../tesseract/ccstruct/publictypes.cpp",
                "../tesseract/ccstruct/quadlsq.cpp",
                "../tesseract/ccstruct/quspline.cpp",
                "../tesseract/ccstruct/ratngs.cpp",
                "../tesseract/ccstruct/rect.cpp",
                "../tesseract/ccstruct/rejctmap.cpp",
                "../tesseract/ccstruct/seam.cpp",
                "../tesseract/ccstruct/split.cpp",
                "../tesseract/ccstruct/statistc.cpp",
                "../tesseract/ccstruct/stepblob.cpp",
                "../tesseract/ccstruct/vecfuncs.cpp",
                "../tesseract/ccstruct/werd.cpp",
                "../tesseract/ccutil/ambigs.cpp",
                "../tesseract/ccutil/basedir.cpp",
                "../tesseract/ccutil/bits16.cpp",
                "../tesseract/ccutil/bitvector.cpp",
                "../tesseract/ccutil/ccutil.cpp",
                "../tesseract/ccutil/clst.cpp",
                "../tesseract/ccutil/elst.cpp",
                "../tesseract/ccutil/elst2.cpp",
                "../tesseract/ccutil/errcode.cpp",
                "../tesseract/ccutil/globaloc.cpp",
                "../tesseract/ccutil/indexmapbidi.cpp",
                "../tesseract/ccutil/mainblk.cpp",
                "../tesseract/ccutil/memry.cpp",
                "../tesseract/ccutil/params.cpp",
                "../tesseract/ccutil/scanutils.cpp",
                "../tesseract/ccutil/serialis.cpp",
                "../tesseract/ccutil/strngs.cpp",
                "../tesseract/ccutil/tessdatamanager.cpp",
                "../tesseract/ccutil/tprintf.cpp",
                "../tesseract/ccutil/unichar.cpp",
                "../tesseract/ccutil/unicharmap.cpp",
                "../tesseract/ccutil/unicharset.cpp",
                "../tesseract/ccutil/unicodes.cpp",
                "../tesseract/ccutil/universalambigs.cpp",
                "../tesseract/classify/adaptive.cpp",
                "../tesseract/classify/adaptmatch.cpp",
                "../tesseract/classify/blobclass.cpp",
                "../tesseract/classify/classify.cpp",
                "../tesseract/classify/cluster.cpp",
                "../tesseract/classify/clusttool.cpp",
                "../tesseract/classify/cutoffs.cpp",
                "../tesseract/classify/errorcounter.cpp",
                "../tesseract/classify/featdefs.cpp",
                "../tesseract/classify/float2int.cpp",
                "../tesseract/classify/fpoint.cpp",
                "../tesseract/classify/intfeaturedist.cpp",
                "../tesseract/classify/intfeaturemap.cpp",
                "../tesseract/classify/intfeaturespace.cpp",
                "../tesseract/classify/intfx.cpp",
                "../tesseract/classify/intmatcher.cpp",
                "../tesseract/classify/intproto.cpp",
                "../tesseract/classify/kdtree.cpp",
                "../tesseract/classify/mastertrainer.cpp",
                "../tesseract/classify/mf.cpp",
                "../tesseract/classify/mfdefs.cpp",
                "../tesseract/classify/mfoutline.cpp",
                "../tesseract/classify/mfx.cpp",
                "../tesseract/classify/normfeat.cpp",
                "../tesseract/classify/normmatch.cpp",
                "../tesseract/classify/ocrfeatures.cpp",
                "../tesseract/classify/outfeat.cpp",
                "../tesseract/classify/picofeat.cpp",
                "../tesseract/classify/protos.cpp",
                "../tesseract/classify/sampleiterator.cpp",
                "../tesseract/classify/shapeclassifier.cpp",
                "../tesseract/classify/shapetable.cpp",
                "../tesseract/classify/tessclassifier.cpp",
                "../tesseract/classify/trainingsample.cpp",
                "../tesseract/classify/trainingsampleset.cpp",
                "../tesseract/cube/altlist.cpp",
                "../tesseract/cube/beam_search.cpp",
                "../tesseract/cube/bmp_8.cpp",
                "../tesseract/cube/cached_file.cpp",
                "../tesseract/cube/char_altlist.cpp",
                "../tesseract/cube/char_bigrams.cpp",
                "../tesseract/cube/char_samp.cpp",
                "../tesseract/cube/char_samp_enum.cpp",
                "../tesseract/cube/char_samp_set.cpp",
                "../tesseract/cube/char_set.cpp",
                "../tesseract/cube/classifier_factory.cpp",
                "../tesseract/cube/con_comp.cpp",
                "../tesseract/cube/conv_net_classifier.cpp",
                "../tesseract/cube/cube_line_object.cpp",
                "../tesseract/cube/cube_line_segmenter.cpp",
                "../tesseract/cube/cube_object.cpp",
                "../tesseract/cube/cube_search_object.cpp",
                "../tesseract/cube/cube_tuning_params.cpp",
                "../tesseract/cube/cube_utils.cpp",
                "../tesseract/cube/feature_bmp.cpp",
                "../tesseract/cube/feature_chebyshev.cpp",
                "../tesseract/cube/feature_hybrid.cpp",
                "../tesseract/cube/hybrid_neural_net_classifier.cpp",
                "../tesseract/cube/search_column.cpp",
                "../tesseract/cube/search_node.cpp",
                "../tesseract/cube/tess_lang_mod_edge.cpp",
                "../tesseract/cube/tess_lang_model.cpp",
                "../tesseract/cube/word_altlist.cpp",
                "../tesseract/cube/word_list_lang_model.cpp",
                "../tesseract/cube/word_size_model.cpp",
                "../tesseract/cube/word_unigrams.cpp",
                "../tesseract/cutil/bitvec.cpp",
                "../tesseract/cutil/callcpp.cpp",
                "../tesseract/cutil/cutil.cpp",
                "../tesseract/cutil/cutil_class.cpp",
                "../tesseract/cutil/danerror.cpp",
                "../tesseract/cutil/efio.cpp",
                "../tesseract/cutil/emalloc.cpp",
                "../tesseract/cutil/freelist.cpp",
                "../tesseract/cutil/listio.cpp",
                "../tesseract/cutil/oldlist.cpp",
                "../tesseract/cutil/structures.cpp",
                "../tesseract/dict/context.cpp",
                "../tesseract/dict/dawg.cpp",
                "../tesseract/dict/dawg_cache.cpp",
                "../tesseract/dict/dict.cpp",
                "../tesseract/dict/hyphen.cpp",
                "../tesseract/dict/permdawg.cpp",
                "../tesseract/dict/stopper.cpp",
                "../tesseract/dict/trie.cpp",
                "../tesseract/neural_networks/runtime/input_file_buffer.cpp",
                "../tesseract/neural_networks/runtime/neural_net.cpp",
                "../tesseract/neural_networks/runtime/neuron.cpp",
                "../tesseract/neural_networks/runtime/sigmoid_table.cpp",
                "../tesseract/opencl/openclwrapper.cpp",
                "../tesseract/textord/alignedblob.cpp",
                "../tesseract/textord/baselinedetect.cpp",
                "../tesseract/textord/bbgrid.cpp",
                "../tesseract/textord/blkocc.cpp",
                "../tesseract/textord/blobgrid.cpp",
                "../tesseract/textord/ccnontextdetect.cpp",
                "../tesseract/textord/cjkpitch.cpp",
                "../tesseract/textord/colfind.cpp",
                "../tesseract/textord/colpartition.cpp",
                "../tesseract/textord/colpartitiongrid.cpp",
                "../tesseract/textord/colpartitionset.cpp",
                "../tesseract/textord/devanagari_processing.cpp",
                "../tesseract/textord/drawedg.cpp",
                "../tesseract/textord/drawtord.cpp",
                "../tesseract/textord/edgblob.cpp",
                "../tesseract/textord/edgloop.cpp",
                "../tesseract/textord/equationdetectbase.cpp",
                "../tesseract/textord/fpchop.cpp",
                "../tesseract/textord/gap_map.cpp",
                "../tesseract/textord/imagefind.cpp",
                "../tesseract/textord/linefind.cpp",
                "../tesseract/textord/makerow.cpp",
                "../tesseract/textord/oldbasel.cpp",
                "../tesseract/textord/pithsync.cpp",
                "../tesseract/textord/pitsync1.cpp",
                "../tesseract/textord/scanedg.cpp",
                "../tesseract/textord/sortflts.cpp",
                "../tesseract/textord/strokewidth.cpp",
                "../tesseract/textord/tabfind.cpp",
                "../tesseract/textord/tablefind.cpp",
                "../tesseract/textord/tablerecog.cpp",
                "../tesseract/textord/tabvector.cpp",
                "../tesseract/textord/textlineprojection.cpp",
                "../tesseract/textord/textord.cpp",
                "../tesseract/textord/topitch.cpp",
                "../tesseract/textord/tordmain.cpp",
                "../tesseract/textord/tospace.cpp",
                "../tesseract/textord/tovars.cpp",
                "../tesseract/textord/underlin.cpp",
                "../tesseract/textord/wordseg.cpp",
                "../tesseract/textord/workingpartset.cpp",
                # "../tesseract/training/ambiguous_words.cpp",
                # "../tesseract/training/boxchar.cpp",
                # "../tesseract/training/classifier_tester.cpp",
                # "../tesseract/training/cntraining.cpp",
                # "../tesseract/training/combine_tessdata.cpp",
                # "../tesseract/training/commandlineflags.cpp",
                # "../tesseract/training/commontraining.cpp",
                # "../tesseract/training/dawg2wordlist.cpp",
                # "../tesseract/training/degradeimage.cpp",
                # "../tesseract/training/fileio.cpp",
                # "../tesseract/training/ligature_table.cpp",
                # "../tesseract/training/mergenf.cpp",
                # "../tesseract/training/mftraining.cpp",
                # "../tesseract/training/normstrngs.cpp",
                # "../tesseract/training/pango_font_info.cpp",
                # "../tesseract/training/set_unicharset_properties.cpp",
                # "../tesseract/training/shapeclustering.cpp",
                # "../tesseract/training/stringrenderer.cpp",
                # "../tesseract/training/tessopt.cpp",
                # "../tesseract/training/text2image.cpp",
                # "../tesseract/training/tlog.cpp",
                # "../tesseract/training/unicharset_extractor.cpp",
                # "../tesseract/training/unicharset_training_utils.cpp",
                # "../tesseract/training/wordlist2dawg.cpp",
                "../tesseract/viewer/scrollview.cpp",
                "../tesseract/viewer/svmnode.cpp",
                "../tesseract/viewer/svpaint.cpp",
                "../tesseract/viewer/svutil.cpp",
                # "../tesseract/vs2010/port/gettimeofday.cpp",
                # "../tesseract/vs2010/port/strcasestr.cpp",
                # "../tesseract/vs2010/port/strtok_r.cpp",
                "../tesseract/wordrec/associate.cpp",
                "../tesseract/wordrec/chop.cpp",
                "../tesseract/wordrec/chopper.cpp",
                "../tesseract/wordrec/drawfx.cpp",
                "../tesseract/wordrec/findseam.cpp",
                "../tesseract/wordrec/gradechop.cpp",
                "../tesseract/wordrec/language_model.cpp",
                "../tesseract/wordrec/lm_consistency.cpp",
                "../tesseract/wordrec/lm_pain_points.cpp",
                "../tesseract/wordrec/lm_state.cpp",
                "../tesseract/wordrec/outlines.cpp",
                "../tesseract/wordrec/params_model.cpp",
                "../tesseract/wordrec/pieces.cpp",
                "../tesseract/wordrec/plotedges.cpp",
                "../tesseract/wordrec/render.cpp",
                "../tesseract/wordrec/segsearch.cpp",
                "../tesseract/wordrec/tface.cpp",
                "../tesseract/wordrec/wordclass.cpp",
                "../tesseract/wordrec/wordrec.cpp"
            ],
            'conditions': [
                ['OS=="win"',
                    {
                        'defines': [
                            '__MSW32__',
                            '_CRT_SECURE_NO_WARNINGS',
                            'WINDLLNAME="libtesseract"',
                        ],
                        'include_dirs': [
                            'port',
                        ],
                        'sources': [
                            'port/gettimeofday.cpp',
                            'port/strcasestr.cpp',
                            'port/strtok_r.cpp',
                        ],
                        'link_settings': {
                            'libraries': [
                                '-lws2_32.lib',
                                '-lUser32.lib',
                            ],
                        },
                        'configurations': {
                            'Debug': {
                                'msvs_settings': {
                                    'VCCLCompilerTool': {
                                        'CompileAs': '2',
                                    },
                                },
                            },
                            'Release': {
                                'msvs_settings': {
                                    'VCCLCompilerTool': {
                                        'CompileAs': '2',
                                    },
                                },
                            },
                        },
                    }
                ]
            ]
        }
    ]
}